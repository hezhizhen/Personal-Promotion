# Go语言字符串

### 字符串

- Go语言字符串是UTF-8字符的一个序列（当字符为ACII码时占用1个字节，其他字符占用2-4个字节），根据需要占用1-4个字节（减少了内存和硬盘空间占用，也不需要对使用UTF-8字符集的文本进行编码和解码
- 使用双引号或反引号创建。双引号用来创建可解析的字符串字面量(可解析：字符串中的一些符号可以被格式化为其他内容，比如`"\n"`会被格式化为换行符)，反引号创建的字符串原始是什么，输出也是什么，不需要进行任何转义
- 单个字符可以使用单引号来创建
- 一个单一的字符可以使用一个单一的rune来表示（类似于C++中char和int）

部分转义字符

- `\\`: 反斜线
- `\'`: 单引号
- `\"`: 双引号
- `\n`: 换行符
- `\uhhhh`: 4个16进制数字给定的Unicode字符

在Go中，字符串支持切片操作，需注意是否包含其他非ASCII字符。切片时是通过字节进行索引，但是非ASCII字符可能不是由一个字节组成。想要对字符串中字符依次访问，可以使用range操作符。获取字符串的长度有两种含义：获取字符串的字节长度；获取字符串的字符数量

字符串支持操作

- s+=t: 将字符串t追加到s末尾
- s+t: 将字符串s和t级联
- s[n]: 从字符串s中索引位置为n处的原始字节
- s[n:m]: 从位置n到位置m-1处取得的字符串
- s[n:]: 从位置n到位置len(s)-1处取得的字符串
- s[:m]: 从位置0到位置m-1处取得的字符串
- len(s): 字符串s中的字节数
- len([]rune(s)): 字符串s中字符的个数（可以使用更快的方法：utf8.RuneCountlnString()）
- []rune(s): 将字符串s转换为一个unicode值组成的串
- string(chars): chars类型是[]rune或者[]int32，将之转换为字符串
- []byte(s): 无副本的将字符串s转换为一个原始的字节的切片数组（不保证转换的字节是合法的UTF-8编码字节）

### 格式化字符串

- fmt包提供了打印函数将数据以字符串形式输出到控制台、文件、其他满足io.Writer接口的值以及其他字符串
- fmt.Printf: 类似C中的printf，提供一些格式化指令，让Go对输出的字符串进行格式化。使用一些格式化修饰符，改变格式化指令的输出结果
- fmt.Println:

常用的格式化指令

- %%: %字面量
- %b: 一个二进制整数
- %c: 一个Unicode的字符
- %d: 十进制数值
- %o: 八进制数值
- %x: 小写的十六进制数值
- %X: 大写的十六进制数值
- %U: 一个Unicode表示法表示的整型码值，默认是4个数字字符
- %s: 输出以原生的UTF-8字节表示的字符
- %t: 以true或false的方式输出布尔值
- %v: 使用默认格式输出值，或者使用类型的String()方法输出的自定义值
- %T: 输出值的类型

常用的格式化指令修饰符

- 空白：如果输出的数字为负，则在前面加上减号；如果输出的是整数，则在前面加一个空格。使用`%x`或`%X`格式化指令输出时，会在结果之间添加一个空格
- `#`: `%#o`输出以0开始的八进制数值，`%#x`输出以0x开始的十六进制数值
- `+`: 让格式化指令在数值前输出+号或-号，为字符串输出ASCII字符，为结构体输出其字段名
- `-`: 让格式化指令将值向左对齐（默认值向右对齐）
- `0`: 让格式指令以数字0而非空白进行填充

### 字符串处理相关的包

- strings包：查找字符串、分割字符串、判断前后缀、判断字符串包含、字符串替换、统计字符串出现的次数等
    - func Replace(s, old, new string, n int) string 中参数n指明了将字符串s中的前n个old字符串替换为new字符串。n=-1时提供所有匹配到的字符串
- strconv包：需要可以在字符串和其他类型的数据之间进行转换的函数
    - strconv.IntSize是一个常量，值为int类型所占的bit数
