# Search in Depth

it is not enough to just use the `match` query; you need to understand your data and how you want to be able to search it

understand how each query contributes to the relevance `_score` help to tune your queries

## Structured Search

dates, times, numbers are all structured: they have a precise format that you can perform logical operations on

text can be structured

with structured search, the answer is always a yes or no; something either belongs in the set or not; there is no concept for `more similar`

## Full-Text Search

## Multifield Search

## Proximity Matching

## Partial Matching

## Controlling Relevance

### Theory Behind Relevance Scoring

### Lucene's Pratical Scoring Function

### Query-Time Boosting

### Mannipulating Relevance with Query

### Structure

### Not Quite Not

### Ignoring TF/IDF

### function_score Query

`function_score` query: apply a function to each document that matches the main query in order to alter or completely replace the original query `_score`

some predefined functions out of the box

- `weight`                                 : appy a simple boost to each document without the boost being normalized (a weight of 2 results in 2*_score)
- `field_value_factor`                     : use the value of a field in the document to alter the `_score`
- `random_score`                           : use consistently random scoring to sort results differently for every user, while maintaining the same sort order for a single user
- **Decay functions** (linear, exp, gauss) : incorporate sliding-scale values like publish_date, geo_location, price into the `_score` to prefer recently published documents ......
- `script_score`                           : use a custom script to take complete control of the scoring logic

### Boosting Filtered Subsets

the full-text `_score` range usually falls somewhere between 0 and 10

